var e;!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const l of e)if("childList"===l.type)for(const e of l.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const t=document.querySelector("[data-js='form']"),l=document.querySelector("[data-js='to-do']"),o=document.querySelector("[data-js='date']"),s=document.querySelector("[data-js='time']"),a=document.querySelector("table");function r(){const e=JSON.parse(localStorage.getItem("items")),t=document.querySelector("tbody"),l=document.querySelector("thead");t&&t.remove(),l&&l.remove();const o=document.createElement("tbody"),s=document.createElement("thead");a.appendChild(s),a.appendChild(o);for(let a=0;a<e.length;a++){const t=new Date(e[a].id);s.innerHTML="<th>When</th><th>What</th><th>Action</th>",o.insertAdjacentHTML("beforeend",`\n    <tr class="list-row" data-js="list-row">\n       \n        <td label="When" class="date-item" data-js="date-item"><input class="datecell" type="date" readonly value="${t.getFullYear()}-${t.getMonth()+1<10?"0"+(t.getMonth()+1).toString():t.getMonth()+1}-${t.getDate()+1<10?"0"+(t.getDate()+1).toString():t.getDate()+1}"> </br><input class="inputcelltime" type="time" readonly value="${e[a].time}"></td>\n        <td label="What" class="todo-item" data-js="todo-item"><div class="inputcell" readonly>${e[a].item}</div></td>\n        <td label="Action" class="btns">\n            <button class="done-btn" data-js="done-btn" value="done"><i class="fas fa-check"></i></button>\n            <button class="del-btn" data-js="del-btn" value="delete"><i class="fas fa-trash"></i></button>\n            <button class="save-btn" data-js="save-btn" value="save"><i class="fas fa-save"></i></button>\n        </td>\n    </tr>\n    `),Array.from(document.querySelectorAll("[data-js='save-btn']"))[a].style.display="none"}const r=Array.from(document.querySelectorAll("[data-js='done-btn']")),n=Array.from(document.querySelectorAll("[data-js='del-btn']")),i=Array.from(document.querySelectorAll("[data-js='save-btn']")),c=Array.from(document.querySelectorAll("[data-js='list-row']")),d=Array.from(document.querySelectorAll(".inputcell")),u=Array.from(document.querySelectorAll(".datecell")),m=Array.from(document.querySelectorAll(".inputcelltime")),y=Array.from(document.querySelectorAll(".btns"));for(let a=0;a<r.length;a++)r[a].onclick=()=>{console.log(r[a].innerHTML),console.log("botao"+(1+a)),r[a].classList.toggle("done"),c[a].classList.toggle("strikethrough")},d[a].onclick=()=>{d[a].removeAttribute("readonly"),i[a].style.display="inline-block",d[a].classList.add("active"),u[a].classList.add("active"),m[a].classList.add("active"),d[a].setAttribute("contenteditable","true"),r[a].remove(),n[a].remove(),d[a].focus(),"none"===i[a].style.display&&(i[a].style.display="inline-block"),c[a].classList.contains("strikethrough")&&c[a].classList.remove("strikethrough")},u[a].onclick=()=>{d[a].removeAttribute("readonly"),u[a].removeAttribute("readonly"),m[a].removeAttribute("readonly"),i[a].style.display="inline-block",d[a].classList.add("active"),u[a].classList.add("active"),m[a].classList.add("active"),r[a].remove(),n[a].remove(),"none"===i[a].style.display&&(i[a].style.display="inline-block"),c[a].classList.contains("strikethrough")&&c[a].classList.remove("strikethrough")},m[a].onclick=()=>{d[a].removeAttribute("readonly"),u[a].removeAttribute("readonly"),m[a].removeAttribute("readonly"),i[a].style.display="inline-block",d[a].classList.add("active"),u[a].classList.add("active"),m[a].classList.add("active"),r[a].remove(),n[a].remove(),"none"===i[a].style.display&&(i[a].style.display="inline-block"),c[a].classList.contains("strikethrough")&&c[a].classList.remove("strikethrough")},i[a].onclick=()=>{d[a].readOnly=!0,e[a]={id:u[a].value,time:m[a].value,item:d[a].textContent},d[a].setAttribute("readonly",""),u[a].setAttribute("readonly",""),m[a].setAttribute("readonly",""),localStorage.setItem("items",JSON.stringify(e)),y[a].appendChild(r[a]),y[a].appendChild(n[a]),"inline-block"===i[a].style.display&&(i[a].style.display="none")};for(let a=0;a<n.length;a++)n[a].addEventListener("click",(t=>{c[a].remove(),e.splice(a,1),localStorage.setItem("items",JSON.stringify(e))}))}const n=null!=(e=JSON.parse(localStorage.getItem("items")))?e:[];t.addEventListener("submit",(e=>{if(e.preventDefault(),0===n.length)return n.push({id:o.value,time:s.value,item:l.value}),console.log(n),localStorage.setItem("items",JSON.stringify(n)),console.log("saiu"),r();const t=JSON.parse(localStorage.getItem("items"));t.push({id:o.value,time:s.value,item:l.value}),localStorage.setItem("items",JSON.stringify(t)),console.log("enviado"),l.value="",o.value="",s.value="",l.focus(),r()})),r();
